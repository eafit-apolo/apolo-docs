

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Sensu Plugin - CPU Load &mdash; apolo-docs 0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../../" src="../../../../../_static/documentation_options.js"></script>
        <script src="../../../../../_static/jquery.js"></script>
        <script src="../../../../../_static/underscore.js"></script>
        <script src="../../../../../_static/doctools.js"></script>
        <script src="../../../../../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/css/theme_overrides.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/css/sidebar.css" type="text/css" />
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <link rel="next" title="Sensu Plugin - Disk Usage" href="disk-usage.html" />
    <link rel="prev" title="Sensu Plugin - Graphite" href="graphite.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

  
    <a href="../../../../../index.html">
  

  
    
    <img src="../../../../../_static/apolo-white.png" style="width: 150px;" class="logo" alt="Logo"/>
  
    </a>

    
      
      
      
	<div class="version" style="color: rgba(255,255,255,0.5);">
	  0.1
	</div>
      
    

    
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../../gettingstarted/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../supercomputers/index.html">Supercomputers</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../../index.html">Software</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../../virtualization/index.html">Virtualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../programminglanguages/index.html">Programming Languages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../applications/index.html">Scientific Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../resourcemanager/index.html">Resource Manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../provisioning/index.html">Provisioning</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../../index.html">Monitoring</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../../architecture/index.html">Monitoring Architecture</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../nagios/index.html">Nagios</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../index.html">Sensu</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="../index.html">Sensu - 0.26.5</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../elk/index.html">ELK</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../grafana/index.html">Grafana</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../operatingsystems/index.html">Operating Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../scientific_libraries/index.html">Scientific Libraries</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../how-to-acknowledge.html">How to Acknowledge</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../report-a-bug.html">Report a Bug</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">apolo-docs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../../../index.html">Software</a> &raquo;</li>
        
          <li><a href="../../../index.html">Monitoring</a> &raquo;</li>
        
          <li><a href="../../index.html">Sensu</a> &raquo;</li>
        
          <li><a href="../index.html">Sensu - 0.26.5</a> &raquo;</li>
        
      <li>Sensu Plugin - CPU Load</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../../../_sources/software/monitoring/sensu/sensu-0.26.5/plugins/cpu-load.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="sensu-plugin-cpu-load">
<span id="sensu-cpu-load-index"></span><h1><a class="toc-backref" href="#id1">Sensu Plugin - CPU Load</a><a class="headerlink" href="#sensu-plugin-cpu-load" title="Permalink to this headline">¶</a></h1>
<p>Checks the average CPU load in the last 1, 5 and 15 minutes, establishing a warning and a caution threshold
for each one of these time intervals.</p>
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#sensu-plugin-cpu-load" id="id1">Sensu Plugin - CPU Load</a></p>
<ul>
<li><p><a class="reference internal" href="#basic-information" id="id2">Basic information</a></p></li>
<li><p><a class="reference internal" href="#installation" id="id3">Installation</a></p></li>
<li><p><a class="reference internal" href="#usage" id="id4">Usage</a></p></li>
<li><p><a class="reference internal" href="#authors" id="id5">Authors</a></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="basic-information">
<h2><a class="toc-backref" href="#id2">Basic information</a><a class="headerlink" href="#basic-information" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><strong>Official Page:</strong> <a class="reference external" href="https://github.com/sensu-plugins/sensu-plugins-cpu-checks">https://github.com/sensu-plugins/sensu-plugins-cpu-checks</a></p></li>
<li><p><strong>License:</strong> MIT License</p></li>
</ul>
</div>
<div class="section" id="installation">
<h2><a class="toc-backref" href="#id3">Installation</a><a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This installation process has to be performed in each Sensu
Client that will execute this monitoring task.</p>
</div>
<p>Install the plugin executing:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sensu-install -p loads-checks
</pre></div>
</div>
<p>This command will install the corresponding Gem. Its scripts are located
in <code class="code bash docutils literal notranslate"><span class="pre">/opt/sensu/embedded/bin/</span></code>, that directory is included in the Sensu
user’s PATH, so in the check definition, it’s not necessary to write the full path.</p>
<p>The scripts are:</p>
<ul class="simple">
<li><p>bin/check-cpu.rb</p></li>
<li><p>bin/check-cpu.sh</p></li>
<li><p>bin/metrics-cpu-mpstat.rb</p></li>
<li><p>bin/metrics-cpu-pcnt-usage.rb</p></li>
<li><p>bin/metrics-numastat.rb</p></li>
<li><p>bin/metrics-user-pct-usage.rb</p></li>
</ul>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id4">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>Add the Check-CPU-load configuration, specifying which will be its subscribers and its warning and critical thresholds. The units of the thresholds is load/core.</p>
<p><strong>Example:</strong> If the machine has 16 cores and we want 18 for the critical threshold, the value is 1.125 (18/16).</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">{</span>
  <span class="s2">&quot;checks&quot;</span>: <span class="o">{</span>
    <span class="s2">&quot;check_cpu_load&quot;</span>: <span class="o">{</span>
      <span class="s2">&quot;command&quot;</span>: <span class="s2">&quot;check-load.rb -c 1.25, 1.125, 1.125 -w 0.9365, 0.9365, 0.875&quot;</span>,
      <span class="s2">&quot;subscribers&quot;</span>: <span class="o">[</span><span class="s2">&quot;example&quot;</span><span class="o">]</span>,
      <span class="s2">&quot;interval&quot;</span>: <span class="m">60</span>,
      <span class="s2">&quot;handlers&quot;</span>: <span class="o">[</span><span class="s2">&quot;mailer&quot;</span><span class="o">]</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</div></blockquote>
<p>In this example, the check will be in WARNING state if the CPU load is greater than 15,15,14 in the last 1,5 and 15 minutes
respectively, and CRITICAL state if the CPU load is greater than 20,18,18 in the last 1,5 and 15 minutes respectively.</p>
<p>So, with a machine of 16 cores, the values are 0.9365, 0.9365, 0.875 for the Warning threshold and 1.25, 1.125, 1.125 for the Critical threshold.</p>
</div>
<div class="section" id="authors">
<h2><a class="toc-backref" href="#id5">Authors</a><a class="headerlink" href="#authors" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Andrés Felipe Zapata Palacio &lt;<a class="reference external" href="mailto:azapat47&#37;&#52;&#48;eafit&#46;edu&#46;co">azapat47<span>&#64;</span>eafit<span>&#46;</span>edu<span>&#46;</span>co</a>&gt;</p></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="disk-usage.html" class="btn btn-neutral float-right" title="Sensu Plugin - Disk Usage" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="graphite.html" class="btn btn-neutral float-left" title="Sensu Plugin - Graphite" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright Creative Commons Attribution-NonCommercial 4.0 International License

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>